<h2 align="center">Преобразование конфигурации сторонних вендоров в формат UserGate</h2>
<h3 align="center">(Версия 9.0)</h3>

Программа предназначена для преобразования конфигурации с Blue Coat, Cisco ASA, Cisco FPR, Check Point, Fortigate, Huawei,
Kerio, MikroTik, PaloAlto в формат UserGate.

<p align="center"><img src="main_image.png"></p>
<p align="center"><img src="main_image2.png"></p>

Программа работает в Ubuntu версии 24.04 или выше и только в графическом режиме.<br>

<b>Обращаем ваше внимание:</b>
1. Если вы запускаете данную программу в Ubuntu более старой версии или в другой
разновидности Linux, вы делаете это на свой страх и риск. Компания UserGate в этом случае ничем вам не может помочь.<br>
2. С версии 9.0 изменена концепция конвертера. Оставлена только конвертация конфигурации сторонних вендоров.
Импорт экспортированной конфигурации должен производится конвертором <b>ug_ngfw_converter</b>.<br>

<b>Экспорт конфигурации:</b><br>
1. Скачайте <b>ug_ngfw_converter</b> и распакуйте его, если не сделали это ранее.<br>
2. Скачайте архив <b>universal_converter.zip</b> и распакуйте его в каталог <b>ug_ngfw_converter</b>. Файл <b>universal_converter</b>
сделайте исполняемым.<br>
3. Запустите программу <b>universal_converter</b>. Программа выполняется в графической среде. В текущей директории будет создан
каталог <b>other_vendors</b> в котором будут созданы каталоги для конфигураций сторонних вендоров. Так же будет создан каталог
<b>ngfw_data</b> для хранения конвертированных конфигураций если он отсутствует.<br>
4. Создайте каталог для конкретной конфигурации в папке "<i>other_vendors/имя_стороннего_вендора</i>" и поместите в него исходную конфигурацию.<br>
5. <b>Для Blue Coat:</b><br>
5.1. Переименуйте файл конфигурации Blue Coat в <b>bluecoat.cfg</b> и скопируйте его в каталог <i>other_vendors/blue_coat/<имя_которое_вы_задали_на_предыдущем_шаге></i><br>
6. <b>Для Cisco ASA:</b><br>
6.1. Переименуйте файл конфигурации Cisco ASA в <b>cisco_asa.cfg</b> и скопируйте его в каталог <i>other_vendors/cisco_asa/<имя_которое_вы_задали_на_предыдущем_шаге></i><br>
7. <b>Для Cisco FPR:</b><br>
7.1. Переименуйте файл конфигурации Cisco FPR в <b>cisco_fpr.cfg</b> и скопируйте его в каталог <i>other_vendors/cisco_fpr/<имя_которое_вы_задали_на_предыдущем_шаге></i><br>
8. <b>Для Check Point:</b><br>
8.1. Выгрузите конфигурацию Check Point с помощью команды Check Point <b>show package</b><br>
8.2. Разархивируйте полученный файл и скопируйте все файлы в каталог <i>other_vendors/checkpoint/<имя_которое_вы_задали_на_предыдущем_шаге></i>.<br>
8.3. Запустите на CheckPoint команду <b>save configuration config_cp.txt</b><br>
8.4. Файл <b>config_cp.txt</b> поместите в тот же каталог: <i>other_vendors/checkpoint/<имя_которое_вы_задали_на_предыдущем_шаге></i>.<br>
9. <b>Для Check Point версии 77.30:</b><br>
9.1. Выгрузите из каталога <b>/opt/CPsuite-R77/fw1/conf/<i>"hostname"</i></b> Check Point файлы <b>objects_5_0.C</b> и <b>rulebases_5_0.fws</b><br>
9.2. Скопируйте эти файлы в каталог <i>other_vendors/checkpoint_old/<имя_которое_вы_задали_на_предыдущем_шаге></i>.<br>
10. <b>Для Fortigate:</b><br>
10.1. Переименуйте файл конфигурации Fortigate в <b>fortigate.cfg</b> и скопируйте его в каталог <i>other_vendors/fortigate/<имя_которое_вы_задали_на_предыдущем_шаге></i><br>
11. <b>Для Huawei:</b><br>
11.1. Переименуйте файл конфигурации Huawei в <b>huawei.cfg</b> и скопируйте его в каталог <i>other_vendors/huawei/<имя_которое_вы_задали_на_предыдущем_шаге></i><br>
12. <b>Для Kerio:</b><br>
12.1. Выгрузите конфигурацию Kerio и скопируйте все файлы в каталог <i>other_vendors/kerio/<имя_которое_вы_задали_на_предыдущем_шаге></i>.<br>
13. <b>Для MikroTik:</b><br>
13.1. Переименуйте файл конфигурации MikroTic в <b>mikrotik.cfg</b> и скопируйте его в каталог <i>other_vendors/mikrotik/<имя_которое_вы_задали_на_предыдущем_шаге></i><br>
14. <b>Для PaloAlto:</b><br>
14.1. Переименуйте файл конфигурации PaloAlto в <b>config.xml</b> и скопируйте его в каталог <i>other_vendors/paloalto/<имя_которое_вы_задали_на_предыдущем_шаге></i><br>
15. Выберите пункт - <b>Экспорт конфигурации</b>.<br>
16. Далее выберите вердора, конфигурацию которого экспортируете, и нажмите кнопку "Экспорт".<br>
17. Появиться окно, в котором необходимо указать каталог с экспортируемой конфигурацией и каталог, куда будут помещены файлы
экспортированной конфигурации в формате UserGate. Если такие каталоги не существуют, они будут созданы.<br>
18. После экспорта проверьте вывод программы на предмет обнаруженных ошибок.<br>
19. Можно сохранить лог экспорта в файл export.log. Файл создаётся в выбранном каталоге экспорта конфигурации.<br>

<b>Ограничения:</b>
1. Экспортируются только интерфейсы VLAN. Все остальные интерфейсы перед импортом надо будет настроить руками.<br>

<b>Экспорт с Cisco ASA:</b>
1. Переносятся настройки:
<pre>
- Модули                            - "UserGate/Настойки/Модули"
- Часовой пояс                      - "UserGate/Настройки/Настройки интерфейса/Часовой пояс"
- Настройка NTP                     - "UserGate/Настройки/Настройка времени сервера"
- Списки IP-адресов                 - "Библиотеки/IP-адреса"
- Списки URL                        - "Библиотеки/Списки URL"
- Сервисы                           - "Библиотеки/Сервисы"
- Группы сервисов                   - "Библиотеки/Группы сервисов"
- Временные интервалы               - "Библиотеки/Календари"
- Локальные Пользователи            - "Пользователи и устройства/Пользователи"
- Локальные группы пользователей    - "Пользователи и устройства/Группы"
- Radis, Tacacs+, LDAP              - "Пользователи и устройства/Серверы аутентификации"
- Зоны                              - "Сеть/Зоны"
- Интерфейсы VLAN                   - "Сеть/Интерфейсы"
- Шлюзы                             - "Сеть/Шлюзы"
- DHCP                              - "Сеть/DHCP"
- Системные DNS                     - "Сеть/DNS/Системные DNS-серверы"
- Правила DNS                       - "Сеть/DNS/DNS-прокси/Правила DNS"
- Статические записи DNS            - "Сеть/DNS/DNS-прокси/Статические записи"
- Статические маршруты              - "Сеть/Виртуальные маршрутизаторы/Статические маршруты"
- Access-lists                      - "Политики сети/Межсетевой экран"
- NAT, DNAT, Port-форвардинг        - "Политики сети/NAT и маршрутизация"
- Webtype ACLs                      - "Политики безопасности/Фильтрация контента"
</pre>
2. Если на Cisco ASA в настройках подключения к AD Windows использовались криптографические пароли, то после последующего
импорта серверов аутентификации LDAP необходимо в настройках соответствующего LDAP-адаптера ввести необходимый логин/пароль
для коннектора. Если нет, то LDAP-коннектор сразу автоматически подключится к контроллеру домена. Проверьте работу LDAP-коннекторов,
отключите лишние. Это важно для импорта правил, если в них используются доменные пользователи и группы.<br>
3. При последующем импорте, интерфейсы VLAN получают IP-адреса из конфигурации Cisco ASA. Проследите, чтобы не было конфликта
IP-адресов в ваших сетях.<br>
4. Интерфейсы VLAN после импорта будут находятся в неактивированном состоянии. Вам необходимо проверить все VLAN,
по необходимости откорректировать их, удалить ненужные и добавить необходимые. После этого включить и проверить их работу.<br>
5. При импорте локальных пользователей, пароли не переносятся. Вам надо вручную задать пароли для всех пользователей
или настроить авторизацию по IP/MAC/VLAN.<br>
6. При конвертации локальных пользователей, тире и пробел в логине заменяются на символ подчёркивания. Точка, прямой и
обратный слеши убираются.<br>
7. Доменные группы из Local User Groups не конвертируются, так как в UserGate нельзя задать доменные группы в локальных группах.<br>
8. При конвертации access-list не активные ACE пропускаются. Так же пропускаются access-list не привязанные к интерфейсу.<br>
9. ACE for Security-Based Matching (Cisco TrustSec) не конвертируются, так как данная технология отсутствует на UserGate.
Поэтому security-group и object-group-security не обрабатываются и ACE с их использованием не обрабатываются (пропускаются).<br>
10. После последующего импорта access листов в правила межсетевого экрана UserGate, межсетевой экран будет работать ожидаемо не
так как это происходило на Cisco ASA. В UserGate межсетевой экран оперирует зонами, которые присваиваются определённым интерфейсам.
Кроме того правила NAT и DNAT не требуют создания правил МЭ, так как сами создают скрытые, необходимые для работы, правила МЭ.
Поэтому дополнительно разрешать данный трафик нет необходимости и соответствующие правила МЭ надо удалить.<br>
11. EtherType ACLs не поддерживаются.<br>
12. Standard ACLs не конвертируются. После импорта необходмио создать соответствующие разрешения в протоколах маршрутизации
виртуальных маршрутизаторов.<br>
13. ACE for URL Matching - данный тип преобразуется в правила контентной фильтрации. В связи с этим не поддерживаются протоколы:
cifs://, citrix://, citrixs://, imap4://, nfs://, pop3://, smart-tunnel://, smtp://. Конвертируются только ACE с типом протокола http://,
https:// и ftp://. Так же не поддерживается wildcards в протоколах, например htt* или *://example.com и символы "?" и квадратные скобки [].
Для неподдерживаемых в правилах контентной фильтрации протоколов необходимо создать соответствующие правила МЭ.<br>
14. Если были импортированы правил фильтрации контента, обязательно проверьте импортированные правила. Отредактируйте их,
укажите зоны и адреса источника/назначения, пользователей и другие параметры.<br>
15. Если вы делаете импорт не всей конфигурации, то необходимо учитывать, что разделы конфигурации взаимосвязаны друг с
другом. Поэтому импорт определённого раздела пройдёт без ошибок только если ранее был выполнен импорт всех предыдущих
пунктов этого меню. Необходимо в первую очередь импортировать Библиотеку и затем импортировать разделы с первого до последнего,
проверяя сообщения каждого раздела на предмет ошибок.<br>
16. Некоторые правила NAT (static) не будут конвертированы, так как идеология данных правил в UserGate отличается от Cisco.
Вам необходимо проверить все правила, изменить существующие и создать недостающие.<br>
17. В общем случае, UserGate обладает гораздо большими возможностями по управлению трафиком чем Cisco ASA. Поэтому рекомендуется
настроить SSL инспектирование, правила фильтрации контента и веб-безопасности, СОВ, защиту почтового трафика и DoS, а так же
использовать другие возможности, предоставляемые данным решением.<br>

<b>Экспорт с Cisco FPR:</b>
1. Переносятся настройки:
<pre>
- Зоны                    - "Сеть/Зоны"
- Интерфейсы VLAN         - "Сеть/Интерфейсы"
- Настройки шлюзов        - "Сеть/Шлюзы"
- Системные DNS           - "Сеть/DNS/Системные DNS-серверы"
- Правила DNS             - "Сеть/DNS/DNS-прокси/Правила DNS"
- DHCP-relay              - на интерфейсах VLAN
- Статические маршруты    - "Сеть/Виртуальные маршрутизаторы"
- Списки IP-адресов       - "Библиотеки/IP-адреса"
- Списки URL              - "Библиотеки/Списки URL"
- Сервисы                 - "Библиотеки/Сервисы"
- Группы сетевых сервисов - "Библиотеки/Группы сервисов"
- Access-lists            - "Политики сети/ Межсетевой экран"
- Временные интервалы     - "Библиотеки/Календари"
</pre>

<b>Экспорт с Fortigate:</b>
1. При экспорте сервисов, поля "iprange" и "fqdn" не переносятся так как не поддерживаются в UserGate.<br>
2. При экспорте групп пользователей, доменные пользователи не переносятся так как не известно к какому домену они относятся.<br>
3. Ограничения по интерфейсам не конвертируются, т.к. этот функционал отсутствует в UserGate.<br>
4. Если имя правила МЭ состоит из одних спец.символов (например "-----"), то оно заменяется на порядковый номер, так как
спец.символы запрещены в именах правил. В случае других правил, генерируется произвольный код. В описание правила добавляется
соответствущее сообщение.<br>
5. Правила NAT не конвертируются так как идеология натирования в UserGate очень сильно отличается от Fortigate.<br>
6. Правила межсетевого экрана с технологией Fortigate Hairpin NAT не экспортируются, так как проприетарные технологии
Fortigate не существуют на UserGate.<br>
7. Правила раздела "config firewall vip" конвертируются в правила DNAT, Порт-форвардинга и балансировки нагрузки. Если в
этих правилах использовались сертификаты, после импорта надо удалить соответствующие правила балансировки нагрузки и в ручную создать
правила reverse-прокси, предварительно загрузив необходимые сертификаты.<br>
8. Если в правиле порт-форвардинга из раздела "config firewall vip" в полях "extport" или "mappedport" используется
диапазон портов, то такое правило преобразуется в правило DNAT, так как диапазоны портов не допустимы в правилах
порт-форвардинга UserGate.<br>
9. После импорта настроек BGP необходимо в настройках каждого BGP-соседа установить параметры "in/out" в соответствующих
фильтрах BGP-соседей и Routemaps, так как данные параметры невозможно установить посредством API.<br>
10. После импорта правил межсетевого экрана необходимо в каждом правиле указать зоны источника/назначения. Создайте необходимое
количество зон и присвойте соответствующую зону каждому интерфейсу.<br>
11. Если были импортированы правила балансировки нагрузки и DNAT, укажите в каждом правиле необходимые зоны.<br>
12. Переносятся настройки:
<pre>
- Интерфейсы VLAN                       - "Сеть/Интерфейсы"
- Настройки DNS                         - "Сеть/DNS"
- Настройки шлюзов                      - "Сеть/Шлюзы"
- Настройки DHCP subnets                - "Сеть/DHCP"
- Статические маршруты                  - "Сеть/Виртуальные маршрутизаторы"
- Настройки BGP                         - "Сеть/Виртуальные маршрутизаторы"
- Настройки NTP                         - "UserGate/Настройки/Настройки времени сервера"
- Серверы аутентификации (LDAP, RADIUS) - "Пользователи и устройства/Серверы аутентификации"
- Группы пользователей                  - "Пользователи и устройства/Группы"
- Локальные пользователи                - "Пользователи и устройства/Пользователи"
- Правила межсетевого экрана            - "Политики сети/Межсетевой экран"
- Правила DNAT и Порт-форвардинга       - "Политики сети/NAT и маршрутизация"
- Правила балансировки нагрузки         - "Политики сети/Балансировка нагрузки"
- Правила пропускной способности        - "Политики сети/Пропускная способность"
- Ресурсы веб-портала                   - "Глобальный портал/Веб-портал"
- Списки IP-адресов                     - "Библиотеки/IP-адреса"
- Списки групп IP-адресов               - "Библиотеки/IP-адреса"
- Списки URL                            - "Библиотеки/Списки URL"
- Сетевые сервисы                       - "Библиотеки/Сервисы"
- Группы сетевых сервисов               - "Библиотеки/Группы сервисов"
- Полосы пропускания                    - "Библиотеки/Полосы пропускания"
- Почтовые адреса                       - "Библиотеки/Почтовые адреса"
- Профили оповещений                    - "Библиотеки/Профили оповещений"
- Временные интервалы                   - "Библиотеки/Календари"
</pre>

<b>Экспорт с Check Point версии 80.40 и выше:</b>
1. Настройки arp-proxy не экспортируются, так как идеология данного функционала на UserGate отличается от CheckPoint.
Если необходимо, настройте arp-proxy на интерфейсах через CLI.<br>
2. Настройки протоколов динамической маршрутизации (ospf, bgp) не конвертируются. Необходимо настроить их на UserGate
заново руками.<br>
3. Адреса IPV6 не поддерживаются. Поэтому объекты host, network с такими адресами не экспортируются.<br>
4. Длина имени IP или URL листов недолжна превышать максимально допустимую длину имени файла в Linux (т.е. 255 байт).
При превышении такой список не конвертируется и не будет использован в правилах.<br>
5. У всех объектов конфигурации CheckPoint должны быть имена. Если у объекта нет имени, при импорте ему присвоится
автоматически сгенерированное имя (например b2d0ddf1d78).<br>
6. Если в access-role имена пользователей указаны русскими буквами и не указан email, то такие пользователи не конвертируются и
не будут использованы в правилах.<br>
7. Access-rule могут конвертироваться в 2 правила (МЭ и КФ). Если в access-rule используются сервисы и/или приложения, то правило
попадает в раздел "Политики сети/Межсетевой экран". Если в access-rule используются URL и/или Категории URL, то создаётся правило
в разделе "Политики безопасности/Фильтрация контента".<br>
8. Если сервис из access-rule трансформировался в категории URL и список URL в правиле контентной фильтрации, то правило сработает
только при совпадении этих 2-х условий (логическое "И"). То есть правило будет работать не так как на CheckPoint, где это
логическое "ИЛИ". В этом случае получившееся правило КФ надо разбить на два (в первом использовать категории URL, во втором список URL).<br>
9. Перед последующим импортом создайте на UserGate необходимое количество зон, так как при импорте VLAN надо будет указать зону для каждого
интерфейса.<br>
10. Переносятся настройки:
<pre>
- Часовой пояс                          - "UserGate/Настройки/Часовой пояс"
- Настройки NTP                         - "UserGate/Настройки/Настройки времени сервера"
- Зоны                                  - "Сеть/Зоны"
- Интерфейсы VLAN                       - "Сеть/Интерфейсы"
- Настройки DNS                         - "Сеть/DNS"
- Настройки шлюзов                      - "Сеть/Шлюзы"
- Статические маршруты                  - "Сеть/Виртуальные маршрутизаторы"
- Сетевые сервисы                       - "Библиотеки/Сервисы"
- Группы сетевых сервисов               - "Библиотеки/Группы сервисов"
- Списки IP-адресов и групп IP-адресов  - "Библиотеки/IP-адреса"
- Списки URL                            - "Библиотеки/Списки URL"
- Группы URL категорий                  - "Библиотеки/Категории URL"
- Группы приложений                     - "Библиотеки/Группы приложений"
- Календари                             - "Библиотеки/Календари"
- Правила межсетевого экрана            - "Политики сети/Межсетевой экран"
- Правила контентной фильтрации         - "Политики безопасности/Фильтрация контента"
</pre>

<b>Экспорт с Check Point версии 77.30:</b>
1. Адреса IPV6 не поддерживаются. Поэтому объекты host, network с такими адресами не экспортируются.<br>
2. Длина имени IP или URL листов недолжна превышать максимально допустимую длину имени файла в Linux (т.е. 255 байт). При
превышении такой список не конвертируется и не будет использован в правилах.<br>
3. Переносятся настройки:
<pre>
- Настройки шлюзов                      - "Сеть/Шлюзы"
- Статические маршруты                  - "Сеть/Виртуальные маршрутизаторы"
- Сетевые сервисы                       - "Библиотеки/Сервисы"
- Группы сетевых сервисов               - "Библиотеки/Группы сервисов"
- Списки IP-адресов и групп IP-адресов  - "Библиотеки/IP-адреса"
- Правила межсетевого экрана            - "Политики сети/Межсетевой экран"
</pre>

<b>Экспорт с Huawei:</b>
1. При экспорте правил security-policy, geo-location с обозначениями стран не переносятся. После импорта на UserGate в
соответствующих правилах межсетевого экрана необходимо руками указать нужные настройки GeoIP. Переносятся только настройки
"geo-location user-defined".<br>
2. При экспорте правил security-policy, profile не конвертируются.<br>
3. При экспорте правил traffic-policy, указанные интерфейсы не конвертируются. После импорта на UserGate в соответствующих
правилах пропускной способности необходимо указать зоны, соответствующие нужным интерфейсам.<br>
4. Правила policy-based-route не экспортируются, так как в UserGate используется другая идеология для построения правил ПБР.
В общем случае данные правила Huawei заменяются правилами статических маршрутов и общим правилом NAT из входящей зоны в
исходящую.<br>
5. Правила МЭ и NAT/DNAT после импорта будут находятся в неактивном состоянии. Проверьте их и внесите необходимые изменения.
На UserGate идеология применения правил NAT отличается от Huawei. Обычно создаются общие правила NAT между зонами, более
детальный доступ настраивается правилами межсетевого экрана. Рекомендуется придерживаться данной стратегии.<br>
6. Переносятся настройки:
<pre>
- Часовой пояс                          - "UserGate/Настройки/Часовой пояс"
- Зоны                                  - "Сеть/Зоны"
- Интерфейсы VLAN                       - "Сеть/Интерфейсы"
- Настройки DNS                         - "Сеть/DNS"
- Настройки шлюзов                      - "Сеть/Шлюзы"
- Статические маршруты                  - "Сеть/Виртуальные маршрутизаторы"
- Правила межсетевого экрана            - "Политики сети/Межсетевой экран"
- Правила NAT/DNAT                      - "Политики сети/NAT и маршрутизация" 
- Правила пропускной способности        - "Политики сети/Пропускная способность"
- Сетевые сервисы                       - "Библиотеки/Сервисы"
- Группы сервисов                       - "Библиотеки/Группы сервисов"
- Списки IP-адресов                     - "Библиотеки/IP-адреса"
- Списки групп IP-адресов               - "Библиотеки/IP-адреса"
- Списки URL                            - "Библиотеки/Списки URL"
- Почтовые адреса                       - "Библиотеки/Почтовые адреса"
- Профили оповещений                    - "Библиотеки/Профили оповещений"
- Временные интервалы                   - "Библиотеки/Календари"
- Полосы пропускания                    - "Библиотеки/Полосы пропускания"
</pre>

<b>Экспорт с Kerio:</b>
1. Группы URL-листов не экспортируются, так как данный функционал отсутствует на UserGate.<br>
2. Доменные пользователи в правилах не конвертируются.<br>
3. Правила NAT не конвертируются, так как идеология построения правил NAT в UserGate отличается. В общем случае данные
правила Kerio должны быть заменены общими правилами NAT из входящей зоны в исходящую, а вся функциональность реализована
правилами МЭ.<br>
4. После импорта укажите в правилах DNAT зоны источника.<br>
5. Переносятся настройки:
<pre>
- Настройки NTP                         - "UserGate/Настройки/Настройки времени сервера"
- Зоны                                  - "Сеть/Зоны"
- Системные DNS-серверы                 - "Сеть/DNS/Системные DNS-серверы"
- Статические записи DNS                - "Сеть/DNS/Статические записи"
- Статические маршруты                  - "Сеть/Виртуальные маршрутизаторы"
- Списки морфологии                     - "Библиотеки/Морфология"
- Сетевые сервисы                       - "Библиотеки/Сервисы"
- Группы сервисов                       - "Библиотеки/Группы сервисов"
- Списки IP-адресов                     - "Библиотеки/IP-адреса"
- Списки групп IP-адресов               - "Библиотеки/IP-адреса"
- Списки URL                            - "Библиотеки/Списки URL"
- Правила DNAT                          - "Политики сети/NAT и маршрутизация" 
- Правила фильтрации контента           - "Политики безопасности/Фильтрация контента"
</pre>

<b>Экспорт с MikroTik:</b>
1. Конвертируется конфигурация только RouteOS версии 7 и выше. Если у вас более старая версия, обновите ваше устройство
через "Check updates".<br>
2. При экспорте интерфейсов VLAN, IP-адреса разных VLAN не должны принадлежать одной подсети. Это ограничение UserGate.<br>
3. После импорта шлюзов, для каждого шлюза укажите соответствующий порт.<br>
4. Правила МЭ со статусом "disabled" не экспортируются.<br>
5. Правила МЭ с сервисами, отсутствующими на UserGate не экспортируются.<br>
6. Если правила МЭ не содержат dst-address или src-address и назначены на конкретный интерфейс, то такие правила не
конвертируются. Для конвертации таких правил, назначьте в "interface list" имена и присвойте соответствующие имена
интерфейсам.<br>
7. После последующего импорта, скорее всего, некоторые правила МЭ будут дублироваться. Это связано с идеологией построения
правил МЭ на UserGate, которая отличается от низкоуровневого построения правил на MikroTik. После импорта проверьте все
правила, откорректируйте их, удалите дубликаты и включите нужные.<br>
8. Правила NAT не экспортируются, так как идеология применения таких правил UserGate сильно отличается от MikroTik.<br>
9. Переносятся правила "netmap" с chain "dstnat". Такие правила конвертируются в правила DNAT и Port/Forwarding.<br>
10. Правила DNAT со статусом "disabled" не экспортируются.<br>
11. Переносятся настройки:
<pre>
- Часовой пояс                          - "UserGate/Настройки/Часовой пояс"
- Настройки NTP                         - "UserGate/Настройки/Настройки времени сервера"
- Зоны                                  - "Сеть/Зоны"
- Интерфейсы IP-IP                      - "Сеть/Интерфейсы"
- Интерфейсы VLAN                       - "Сеть/Интерфейсы"
- Настройки шлюзов                      - "Сеть/Шлюзы"
- DHCP                                  - "Сеть/DHCP"
- Системные DNS-серверы                 - "Сеть/DNS/Системные DNS-серверы"
- Статические записи DNS                - "Сеть/DNS/Статические записи"
- Статические маршруты                  - "Сеть/Виртуальные маршрутизаторы"
- Списки IP-адресов                     - "Библиотеки/IP-адреса"
- Сетевые сервисы                       - "Библиотеки/Сервисы"
- Правила межсетевого экрана            - "Политики сети/Межсетевой экран"
- Правила DNAT/PortForwarding           - "Политики сети/NAT и маршрутизация" 
</pre>

<b>Экспорт с BlueCoat:</b>
1. Переносятся настройки:
<pre>
- Списки IP-адресов                     - "Библиотеки/IP-адреса"
- Списки URL                            - "Библиотеки/Списки URL"
- Сетевые сервисы                       - "Библиотеки/Сервисы"
- Временные интервалы                   - "Библиотеки/Календари"
- Правила межсетевого экрана            - "Политики сети/Межсетевой экран"
</pre>

<b>Экспорт с PaloAlto:</b>
1. Если при экспорте правила (МЭ, NAT) произошла ошибка, то такое правило при импорте будет не активным и в его описание
будет добавлено пояснение о причинах ошибки.
2. Переносятся настройки:
<pre>
- Списки IP-адресов                     - "Библиотеки/IP-адреса"
- Списки групп IP-адресов               - "Библиотеки/IP-адреса"
- Списки URL                            - "Библиотеки/Списки URL"
- Сетевые сервисы                       - "Библиотеки/Сервисы"
- Группы сервисов                       - "Библиотеки/Группы сервисов"
- Тэги                                  - "Библиотеки/Тэги"
- Часовой пояс                          - "UserGate/Настройки/Часовой пояс"
- Настройки NTP                         - "UserGate/Настройки/Настройки времени сервера"
- Зоны                                  - "Сеть/Зоны"
- Интерфейсы VLAN                       - "Сеть/Интерфейсы"
- Настройки шлюзов                      - "Сеть/Шлюзы"
- Системные DNS-серверы                 - "Сеть/DNS/Системные DNS-серверы"
- Статические маршруты                  - "Сеть/Виртуальные маршрутизаторы"
- Группы пользователей                  - "Пользователи и устройства/Группы"
- Локальные пользователи                - "Пользователи и устройства/Пользователи"
- Правила межсетевого экрана            - "Политики сети/Межсетевой экран"
- Правила NAT/DNAT/PortForwarding       - "Политики сети/NAT и маршрутизация" 
</pre>

<b>Примечание:</b>
1. Имена всех объектов не должны быть больше 64 символов. При экспорте длинные имена обрезаются до 64 символов.
Это может привести к возникновению объектов конфигурации с одинаковыми именами. При импорте некоторые объекты с
дублирующем именем не перенесутся.<br>
2. Пробелы в начале и конце имён правил, списков и т.д. при конвертации удаляются.<br>
3. При экспорте списков IP-адресов типа "10.10.10.0/24" такой список сохраняется в файл "10.10.10.0_24" так как
при переносе каждый список записывается в отдельный файл, а в файловой системе Linux прямой слэш является разделителем
пути к файлу. Имя самого списка не меняется.<br>
4. Никакие пароли (локальных пользователей,  VPN, серверов аутентификации и т.д.) не экспортируются. После импорта
необходимо заново вручную ввести пароль. Это ограничение API - невозможно выгрузить парольную информацию.<br>
5. После экспорта интерфейсов VLAN у них будут IP-адреса из исходной конфигурации. Необходимо проследить, чтобы после
импорта не было конфликта IP-адресов. В общем случае можно в файле экспортированной конфигурации
<i>ngfw_data/.../Network/Interfaces/config_interfaces.json</i> поменять ip-адрес на каждом интерфейсе.<br>
6. Сертификаты не экспортируются. Если вы используете собственные сертификаты, необходимо загрузить и сконфигурировать их.<br>
7. Если вы будете импортировать конфигурацию на UserGate версии 7, то имена групп, серверов аутентификации, различных
профилей, правил, всех списков библиотеки и всего-всего должны быть ТОЛЬКО в английском регистре. Специальные символы
так же запрещены. Разрешаеться использовать только символы: "(", ")", "+", "-", "_", "." если они не являются первым
симоволом имени. Русские буквы допустимы только в описании. Конвертер сам удалит все спецсимволы в начале имени. Не читаемые
символы будут заменены на символ "X". Перед экспортом, замените русские символы в именах на английские.<br>
8. Начиная с версии UserGate 7.1 в именах запрещены многие спец.символы. При экспорте с любой версии будет произведено
их удаление.<br>
9. После импорта конфигурации, устройству UserGate требуется время для компиляции списков сервисов, ip-листов, правил
межсетевого экрана и т.д.. Во время этого процесса веб-консоль может быть недоступна некоторое время, так как данный
процесс требует значительных вычислительных затрат. Время зависит от количества правил, объёма списков и мощности
устройства. Необходимо дождаться завершения процесса.<br>
10. После конвертации сторонней конфигурации на UserGate, UserGate скорее всего будет работать не совсем так как вы
возможно ожидали. Это связано с несколько разной идеологией в архитектуре устройств, построении правил, отличающимися
категориями URL, разным набором приложений и принципом работы с сигнатурами приложений и СОВ. Обязательно тщательно
протестируйте все правила и при необходимости скорректируйте их.<br>
11. <b>Если вы обнаружили ошибку в програме или у вас что то не получается, пожалуйста, откройте тикет в тех.поддержку
компании UserGate.</b><br>

<b>Errors:</b>
1. На ПК с видеокартами NVIDIA возможна ошибка: <b>"libEGL warning: egl: failed to create dri2 screen"</b><br>
В этом случае необходимо:
    1. sudo apt-get install libnvidia-egl-wayland1<br>
    2. Перезагрузить компьютер.<br>

2. На виртуальных машинах возможна ошибка: <b>"libEGL.so.1: cannot open shared object file: No such file or directory"</b><br>
Может помочь: <b>apt update && apt install -y libopencv-dev && apt clean && rm -rf /var/lib/apt/lists/*</b>

3. <b>qt.qpa.xcb: could not connect to display</b> - попытка запустить конвертер без графического окружения.
установите GNOME или KDE, XFCE и т.д.<br>

27.10.2025  Изменена концепция конвертера. Оставлена только конвертация конфигурации сторонних вендоров.
Импорт должен производится конвертором ug_ngfw_converter.<br>
22.10.2025  Исправлена ошибка при отсутствии локальных пользователей в конфигурации PaloAlto.<br>
10.09.2025  Исправлена ошибка импорта зон в шаблон NGFW МС.<br>
09.09.2025  Исправлена ошибка импорта в шаблон NGFW МС.<br>
05.09.2025  Исправлена ошибка экспорта часового пояса для CheckPoint.<br>
02.09.2025  Значительно повышена производительность экспорта/импорта.<br>
26.08.2025  Сделана конвертация конфигурации Kerio в формат UG NGFW.<br>
25.08.2025  Исправлена ошибка экспорта правил DNAT для Fortigate.<br>
24.07.2025  Сделана конвертация конфигурации PaloAlto в формат UG NGFW.<br>
16.07.2025  Исправлена ошибка экспорта интерфейсов Cisco ASA.<br>
09.06.2025  Исправлена ошибка импорта интерфейсов на NGFW.<br>
09.06.2025  Исправлен импорт зон на NGFW и МС.<br>
04.06.2025  Добавлена совместимость с DCFW beta 8.1.1.154928R.<br>
26.05.2025  Сделана конвертация конфигурации CheckPoint версии 77.30.<br>
19.05.2025  Для импорта на DCFW убрана работа с тэгами.<br>
24.04.2025  Исправлена ошибка экспорта в случае IP-адреса IPv6 в правилах МЭ для Cisco ASA.<br>
21.04.2025  Исправлены синтаксические ошибки экспорта для CheckPoint.<br>
11.04.2025  Исправлены ошибки экспорта для Fortigate.<br>
11.04.2025  Исправлена ошибка экспорта для Cisco ASA.<br>
10.04.2025  Исправлен экспорт списков IP-адресов со статусом disabled для MikroTik.<br>
10.04.2025  Исправлен экспорт списков IP-адресов для MikroTik.<br>
09.04.2025  Исправлен вывод сообщений.<br>
09.04.2025  Произведён рефакторинг импорта конфигурации. Увеличена скорость импорта.<br>
08.04.2025  Исправлен экспорт сервисов для MikroTik.<br>
07.04.2025  Исправлены ошибки конвертации для MikroTik.<br>
28.03.2025  Произведён рефакторинг кода конвертеров. Значительно увеличена скорость конвертации.<br>
25.03.2025  Для Fortigate: доробатан экспорт зон, исправлен экспорт локальных пользователей, сделана конвертация GeoIP в правилах.<br>
17.03.2025  Сделана конвертация вложенных групп сервисов для CheckPoint.<br>
14.03.2025  При экспорте конфигурации сделана проверка длины имён объектов. Имена обрезаются до 64 символов.<br>
14.03.2025  При экспорте конфигурации сделана проверка имён объектов на недопустимые символы. Такие символы заменяются на символ "X".<br>
13.03.2025  Исправлено преобразование route для Cisco ASA когда не указан gateway.<br>
10.03.2025  Исправлен импорт списков IP на МС.<br>
10.03.2025  Исправлена ошибка конвертации списков URL для CheckPoint.<br>
10.03.2025  Исправлена ошибка конвертации для BlueCoat.<br>
19.02.2025  Исправлены ошибки конвертации сервисов групп сервисов для Cisco FPR.<br>
04.02.2025  Исправлена ошибка имени правила для CheckPoint.<br>
03.02.2025  В имя файла лога добавлена отметка времени.<br>
21.01.2025  Сделана конвертация конфигурации с BlueCoat.<br>
20.01.2025  Исправлена ошибка импорта групп сервисов для Huawei.<br>
15.01.2025  Исправлена ошибка экспорта статических маршрутов для Huawei.<br>
14.01.2025  Сделан экспорт групп сервисов для Huawei.<br>
14.01.2025  Исправлена ошибка экспорта сервисов для Huawei, проявляющаяся в некоторых случаях.<br>
27.12.2024  Рефакторинг библиотек.<br>
26.12.2024  Исправлен импорт зон на NGFW версии 6.<br>
25.12.2024  Добавлена совместимость с DCFW версии 8.<br>
24.12.2024  Исправлена ошибка импорта на NGFW правил МЭ и пропускной способности.<br>
23.12.2024  Исправлена ошибка экспорта правил dnat для Cisco ASA.<br>
23.12.2024  Исправлена ошибка импорта правил Captive-портала.<br>
19.12.2024  Исправлен экспорт правил МЭ для Fortigate, когда имя правила состоит из одних спец.символов.<br>
19.12.2024  Исправлена ошибка экспорта настроек NTP для Fortigate, проявляющаяся в редких случаях.<br>
19.12.2024  Исправлена ошибка экспорта для Fortigate при не корректном формате конфигурационного файла.<br>
12.12.2024  Исправлена ошибка экспорта календарей для Fortigate, проявляющаяся в редких случаях.<br>
10.12.2024  Исправлены ошибки импорта на NGFW групп пользователей в правилах.<br>
10.12.2024  Доработано GUI выбора шаблонов в группе шаблонов МС. Теперь при смене шаблона не надо заново логиниться на МС.<br>
06.12.2024  Сделана поддержка импорта в группу шаблонов МС.<br>
29.11.2024  Исправлен парсинг конфигурационного файла для Fortigate.<br>
29.11.2024  Доработан экспорт коннекторов LDAP для Fortigate.<br>
28.11.2024  Добавлен экспорт реверсивных правил пропускной способности для Fortigate.<br>
01.11.2024  Добавлена совместимость с NGFW верси 8.<br>
21.10.2024  Доработан экспорт групп IP-листов для Cisco FPR. Добавлен экспорт правил DNS и календарей.<br>
18.10.2024  Доработан экспорт advanced access-list для Cisco ASA.<br>
15.10.2024  Доработан экспорт для MikroTik.<br>
01.10.2024  Исправлен экспорт правил Port-forwarding для Fortigate.<br>
01.10.2024  Исправлен экспорт правил пропускной способности для Fortigate.<br>
01.10.2024  Исправлен экспорт VLAN без IP-адреса и сделан учёт состояния правил МЭ для Fortigate.<br>
30.09.2024  Исправлен экспорт серверов LDAP для Cisco ASA.<br>
30.09.2024  Исправлена обработка объектов "simple_cluster" для CheckPoint.<br>
30.08.2024  Исправлена обработка локальных пользователей и групп в правилах при импорте в шаблон МС.<br>
26.08.2024  Изменена обработка ошибок импорта доменных пользователей и групп в правилах при импорте в шаблон МС.<br>
23.08.2024  Сделан экспорт статических записеё DNS и исправлены ошибки экспорта сервисов для Cisco ASA.<br>
21.08.2024  Исправлен импорт правил в шаблон МС.<br>
16.08.2024  Доработан экспорт зон для Fortigate.<br>
14.08.2024  Измененён импорт правил в шаблон МС.<br>
05.08.2024  Исправлена ошибка определения версии специализированных сборок.<br>
05.08.2024  Исправлен экспорт правил МЭ и календарей для Fortigate.<br>
29.07.2024  Сделан экспорт списков URL и шлюзов для Cisco FPR.<br>
24.07.2024  Сделан экспорт доменных групп в правилах для Fortigate.<br>
23.07.2024  Сделан экспорт объектов кластера и нод в IP-листы для CheckPoint.<br>
22.07.2024  Сделан экспорт календарей (диапазон времени) и  статуса логирования для CheckPoint.<br>
12.07.2024  Исправлен импорт групп сервисов в шаблон МС.<br>
05.07.2024  Переделан экспорт сервисов и добавлен экспорт групп сервисов для Cisco ASA.<br>
03.07.2024  Исправлен экспорт календарей для Fortigate.<br>
02.07.2024  Исправлен экспорт правил port-forward для Fortigate.<br>
01.07.2024  Исправлен вывод в лог при конвертации IP-листов для Fortigate.<br>
01.07.2024  Исправлена ошибка в конвертации сервисов для Cisco ASA, проявляющаяся в редких случаях.<br>
28.06.2024  Сделан импорт конфигурации сторонних вендоров в шаблон UG Management Center.<br>
28.06.2024  Исправлена ошибка в конвертации правил FW для Cisco FPR.<br>
27.06.2024  Исправлена ошибка в конвертации IP-адресов в случае не корректной маски для Cisco ASA.<br>
26.06.2024  Исправлена ошибка в конвертации сервисов для Cisco ASA, проявляющаяся в некоторых случаях.<br>
26.06.2024  Исправлена конвертация URL-листов для Fortigate.<br>
25.06.2024  Исправлена конвертация IP-листов для Fortigate.<br>
18.06.2024  Сделан перенос настроек с MikroTik.<br>
11.06.2024  Исправлена конвертация сервисов и IP-листов для Fortigate.<br>
06.06.2024  Добавлена конвертации списков GeoIP и объектов dns-domain для CheckPoint.<br>
04.06.2024  Исправлена ошибка конвертации access-role, проявляющаяся в редких случаях, для CheckPoint.<br>
30.05.2024  Исправлены ошибки конвертации сервисов и групп сервисов Cisco ASA.<br>
30.05.2024  Сделана обработка ситуации, когда имена пользователей указаны русскими буквами и не указан email для Check Point.<br>
29.05.2024  Исправлена ошибка конвертации файла конфигурации Cisco ASA.<br>
27.05.2024  Сделан перенос настроек с Check Point.<br>
23.05.2024  Исправлено создание имён объектов, если первый символ имени является спецсимволом.<br>
17.05.2024  Сделан перенос настроек с Cisco ASA.<br>
17.05.2024  Исправлена конвертация настроек NAT для Huawei.<br>
13.05.2024  Исправлена конвертация настроек BGP для Fortigate.<br>
27.04.2024  Доработана обработка календарей, списков IP-адресов и URL для Fortigate.<br>
27.04.2024  Исправлена обработка пустых строк в блоках edit файла конфигурации Fortigate.<br>
25.04.2024  Добавлена проверка кодировки файла конфигурации для Fortigate.<br>
24.04.2024  Исправлена ошибка вызова модуля парсинга для Fortigate.<br>
23.04.2024  Исправлена конвертация правил МЭ содержащих диапазон сервисов для Huawei.<br>
18.04.2024  Сделан перенос настроек с Huawei.<br>
17.04.2024  Для Fortigate добавлена конвертация секции 'config firewall wildcard-fqdn group' файла конфигурации.<br>
16.04.2024  Для Fortigate исправлена ошибка парсинга файла конфигурации. Добавлена конвертация зон.<br>
15.04.2024  Для Fortigate исправлена ошибка парсинга файла конфигурации в случае нескольких vdom.<br>
15.04.2024  Для Fortigate добавлена конвертация полос пропускания и правил пропускной способности.<br>
12.04.2024  Исправлен парсинг файла конфигурации Fortigate и обработка параметров, содержащих пробелы.<br>
03.04.2024  Исправлена обработка ошибок для Fortigate.<br>
25.03.2024  Исправлена ошибка упаковки IP-адресов.<br>
